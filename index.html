<!DOCTYPE html>
<html lang="en">
<head>
             <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7LWHSBNXT5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-7LWHSBNXT5');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Khojum - Best Events in Kathmandu</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mukta:wght@300;400;600;700&family=Playfair+Display:ital,wght@0,500;0,700;1,500&display=swap" rel="stylesheet">
    <style>
        :root {
            --nepal-red: #dc143c;
            --nepal-blue: #003893;
            --accent-yellow: #f9d949;
            --dark-text: #333333;
            --light-text: #666666;
            --lightest-bg: #f9f7f5;
            --card-bg: #ffffff;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Mukta', sans-serif;
            line-height: 1.6;
            color: var(--dark-text);
            background-color: var(--lightest-bg);
            padding: 0;
            margin: 0;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background-color: var(--nepal-red);
            color: white;
            padding: 20px 0;
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50 25L70 45L50 65L30 45L50 25Z' fill='rgba(255,255,255,0.05)'/%3E%3C/svg%3E");
            background-size: 100px;
            opacity: 0.2;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .logo h1 {
            font-family: 'Mukta', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            margin: 0;
        }
        
        .logo span {
            color: var(--accent-yellow);
        }
        
        .logo img {
            width: 50px;
            height: auto;
        }
        
        .title-section {
            text-align: center;
            padding-bottom: 30px;
        }
        
        .title-section h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2.8rem;
            font-weight: 700;
            margin-bottom: 10px;
            line-height: 1.2;
        }
        
        .title-section p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .date-display {
            font-family: 'Playfair Display', serif;
            font-style: italic;
            font-size: 1.3rem;
            font-weight: 500;
            margin-top: 10px;
            display: block;
        }
        
        .filter-bar {
            background-color: white;
            padding: 15px 0;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            margin-bottom: 40px;
        }
        
        .filter-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        
        .filter-button {
            background-color: transparent;
            border: 1px solid var(--nepal-red);
            color: var(--nepal-red);
            padding: 8px 16px;
            border-radius: 100px;
            font-family: 'Mukta', sans-serif;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .filter-button:hover, .filter-button.active {
            background-color: var(--nepal-red);
            color: white;
        }
        
        .sort-dropdown {
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }
        
        .sort-dropdown select {
            padding: 8px 16px;
            border: 1px solid var(--nepal-red);
            border-radius: 100px;
            background-color: transparent;
            color: var(--nepal-red);
            font-family: 'Mukta', sans-serif;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
        }
        
        .events-grid {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 25px;
            padding-bottom: 60px;
        }
        
        @media (min-width: 768px) {
            .events-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (min-width: 1024px) {
            .events-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        .event-card {
            background-color: var(--card-bg);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
        }
        
        .event-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }
        
        .event-image {
            height: 180px;
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        .event-category {
            position: absolute;
            top: 15px;
            right: 15px;
            background-color: var(--nepal-red);
            color: white;
            padding: 5px 12px;
            border-radius: 100px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .event-content {
            padding: 20px;
        }
        
        .event-title {
            font-family: 'Mukta', sans-serif;
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--dark-text);
            line-height: 1.3;
        }
        
        .event-meta {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .event-date, .event-time, .event-location, .event-price {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9rem;
            color: var(--light-text);
        }
        
        .event-meta i {
            color: var(--nepal-red);
            font-size: 1rem;
        }
        
        .event-description {
            font-size: 0.95rem;
            color: var(--light-text);
            margin-bottom: 20px;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .event-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .event-price-tag {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--nepal-blue);
        }
        
        .event-price-tag.free {
            color: #2ecc71;
        }
        
        .event-button {
            background-color: var(--nepal-red);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 100px;
            font-family: 'Mukta', sans-serif;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        
        .event-button:hover {
            background-color: #b01030;
        }
        
        footer {
            background-color: var(--nepal-red);
            color: white;
            padding: 40px 0;
            text-align: center;
        }
        
        .logo-small {
            font-family: 'Mukta', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 20px;
            display: inline-block;
        }
        
        .logo-small span {
            color: var(--accent-yellow);
        }
        
        .copyright {
            opacity: 0.8;
            margin-top: 20px;
            font-size: 0.9rem;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 40px 0;
        }
        
        .loading-spinner {
            border: 4px solid rgba(0,0,0,0.1);
            border-left: 4px solid var(--nepal-red);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .title-section h2 {
                font-size: 2.2rem;
            }
            
            .filter-buttons {
                justify-content: flex-start;
                overflow-x: auto;
                padding-bottom: 5px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <h1><span>खो</span>जुम</h1>
            </div>
            <div class="title-section">
                <h2>What are you doing this week?</h2>
                <p>Discover the best events happening in Nepal this week</p>
                <span class="date-display" id="date-range"></span>
            </div>
        </div>
    </header>
    
    <div class="filter-bar">
        <div class="container">
            <div class="filter-buttons">
                <button class="filter-button active" data-filter="all">All Events</button>
                <button class="filter-button" data-filter="Free">Free</button>
                <button class="filter-button" data-filter="music">Music</button>
                <button class="filter-button" data-filter="food">Food & Drinks</button>
                <button class="filter-button" data-filter="arts">Arts</button>
                <button class="filter-button" data-filter="business">Business</button>
                <button class="filter-button" data-filter="sports">Sports</button>
            </div>
            <div class="sort-dropdown">
                <select id="sort-options">
                    <option value="time">Sort by Time</option>
                    <option value="popularity">Sort by Popularity</option>
                    <option value="price">Sort by Price</option>
                </select>
            </div>
        </div>
    </div>
    
    <main class="container">
        <div class="events-grid" id="events-container">
            <!-- Events will be dynamically populated here -->
        </div>
        
        <div class="loading" id="loading">
            <div class="loading-spinner"></div>
            <p>Loading more events...</p>
        </div>
    </main>
    
    <footer>
        <div class="container">
            <div class="logo-small">
                <span>खो</span>जुम
            </div>
            <p>Discover and explore the best events happening in Nepal</p>
            <p class="copyright">&copy; 2025 Khojum. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Set the date range for "this week"
        document.addEventListener('DOMContentLoaded', function() {
            const now = new Date();
            const dayOfWeek = now.getDay();
            const startDate = new Date(now);
            startDate.setDate(now.getDate() - dayOfWeek + (dayOfWeek === 0 ? -6 : 1)); // Monday
            
            const endDate = new Date(startDate);
            endDate.setDate(startDate.getDate() + 6); // Sunday
            
            const options = { month: 'long', day: 'numeric' };
            const dateRange = `${startDate.toLocaleDateString('en-US', options)} - ${endDate.toLocaleDateString('en-US', options)}, ${endDate.getFullYear()}`;
            
            document.getElementById('date-range').textContent = dateRange;
            
            // Load events
            loadEvents();
            
            // Set up filter buttons
            const filterButtons = document.querySelectorAll('.filter-button');
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Remove active class from all buttons
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    // Add active class to clicked button
                    this.classList.add('active');
                    // Filter events
                    const filter = this.getAttribute('data-filter');
                    filterEvents(filter);
                });
            });

            // Set up sort dropdown
            const sortDropdown = document.getElementById('sort-options');
            sortDropdown.addEventListener('change', function() {
                const sortCriteria = this.value;
                sortEvents(sortCriteria);
            });
        });
        
        // Sample business data
        const businesses = [
            {
                id: 1,
                title: "DJ Alok Live in Nepal",
                description: "DJ Alok takes the stage for a live performance, bringing hits like 'Hear Me Now' and 'Piece of Your Heart' to the crowd. This event marks his first performance in Nepal.",
                date: "March 7, 2025",
                time: "7:00 PM onwards",
                location: "LOD, Thamel",
                price: "Rs. 2,000 to Rs. 3,000",
                image: "assets/dj alok.png",
                category: "music",
                url: "https://www.instagram.com/p/DGJDIzISsW6/?utm_source=ig_web_copy_link"
            },
            {
                id: 2,
                title: "Maha Shivaratri World Music Festival",
                description: "This event brings a fusion of international and national artists to Pokhara's lakeside, celebrating Shivaratri with soulful music, rock, blues, and traditional beats.",
                date: "March 1, 2025",
                time: "1:00 PM onwards",
                location: "Camping Side, Hallan Chowk",
                price: "Rs. 500",
                image: "assets/shivaratri-festival.jpg",
                category: "music",
                url: "https://www.instagram.com/p/your_post_id"
            },
            {
                id: 3,
                title: "Gender Inequality: A Stand-Up",
                description: "Comedians Aayush Shrestha and Yozana Thapa Magar will take the stage at Tito's Pub, Thamel. The show will address perspectives, stereotypes, and societal norms through humour.",
                date: "March 1, 2025",
                time: "8:00 PM onwards",
                location: "Tito's Pub, Thamel",
                price: "Rs. 800",
                image: "assets/stand-up-comedy.jpg",
                category: "comedy",
                url: "https://www.instagram.com/p/your_post_id"
            },
            {
                id: 4,
                title: "Trios Music Fest",
                description: "The Trios Music Fest will feature performances by Kta Haru, Tribal Rain, Pariwartan, and The Velvets Bands at Bhrikuti Mandap Ground.",
                date: "March 1, 2025",
                time: "12:00 PM onwards",
                location: "Bhrikuti Mandap Ground",
                price: "Rs. 499 to Rs. 2,249",
                image: "assets/tiros.png",
                category: "music",
                url: "https://www.instagram.com/p/DGaD9SNSern/?utm_source=ig_web_button_share_sheet&igsh=MzRlODBiNWFlZA=="
            },
            {
                id: 5,
                title: "Live Painting Competition",
                description: "World Bank Nepal is organising the 'Where's My Blue Sky?' live Painting competition. This contest spotlights the impact of air pollution in Nepal, offering young artists (16–35 years) a platform to depict their vision for cleaner air.",
                date: "March 1, 2025",
                time: "10:00 AM to 5:00 PM",
                location: "Adarsha Kanya Niketan Higher Secondary School, Mangal Bazar",
                price: "Free",
                image: "assets/live-painting.jpg",
                category: ["arts", "Free" ],
                url: "https://www.instagram.com/p/your_post_id"
            },
            {
                id: 6,
                title: "EITV2025 Confluence",
                description: "Echoes in the Valley and Phuyal Smarika are organising Confluence 2025, wherein there will be a casual, high-energy gathering of musicians, researchers, teachers, students, and music lovers.",
                date: "March 6, 2025",
                time: "6:00 PM",
                location: "Bhumi Restaurant and Bar, Lazimpat",
                price: "Free",
                image: "assets/confluence-2025.jpg",
                category: "music",
                url: "https://www.instagram.com/p/your_post_id"
            },
            {
                id: 7,
                title: "Pravidhi—A New Realm",
                description: "Gallery 108 is organising an exhibition, 'Pravidhi—A New Realm' starting from March 1 to April 1. The exhibition features digital paintings and challenges the definition of art and its possibilities in the digital realm.",
                date: "March 1 to April 1, 2025",
                time: "11:00 AM to 7:00 PM",
                location: "Gallery 108, Durbarmarg",
                price: "Free",
                image: "assets/pravidhi.png",
                category: "arts",
                url: ""
            },
            {
                id: 8,
                title: "61st Session of The StoryYellers",
                description: "The StoryYellers is organising its 61st session featuring Srichchha Pradhan, Miss Nepal World 2023, Monish Niraula, Music Director, Nitesh Tandukar, Content Creator, and Basanta Pandey, CFO, fonepay as the speakers.",
                date: "March 5, 2025",
                time: "5:45 PM",
                location: "Moksh, Jhamsikhel",
                price: "Rs. 300 to Rs. 350",
                image: "assets/storyyellers.png",
                category: "talk",
                url: "https://www.instagram.com/p/DGaohi5vTCK/?utm_source=ig_web_copy_link&igsh=MzRlODBiNWFlZA=="
            }
        ];
        
        function loadEvents() {
            const container = document.getElementById('events-container');
            container.innerHTML = '';
            
            businesses.forEach(event => {
                const eventCard = createEventCard(event);
                container.appendChild(eventCard);
            });
        }
        
        function createEventCard(event) {
            const card = document.createElement('div');
            card.className = 'event-card';
            card.setAttribute('data-category', event.category);
            
            const imageUrl = event.image || "assets/cheetah-running-in-african-wild-animalgraphy-generative-ai-free-photo.jpg";
            
            card.innerHTML = `
                <div class="event-image" style="background-image: url('${imageUrl}')">
                    <div class="event-category">${event.category}</div>
                </div>
                <div class="event-content">
                    <h3 class="event-title">${event.title}</h3>
                    <div class="event-meta">
                        <div class="event-date">
                            <i class="far fa-calendar-alt"></i>
                            <span>${event.date}</span>
                        </div>
                        <div class="event-time">
                            <i class="far fa-clock"></i>
                            <span>${event.time}</span>
                        </div>
                    </div>
                    <div class="event-meta">
                        <div class="event-location">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>${event.location}</span>
                        </div>
                    </div>
                    <p class="event-description">${event.description}</p>
                    <div class="event-footer">
                        <div class="event-price-tag${event.price === 'Free' ? ' free' : ''}">
                            ${event.price}
                        </div>
                        <a href="${event.url}" class="event-button" target="_blank">
                            View Post <i class="fas fa-external-link-alt" aria-hidden="true"></i>
                            <span class="sr-only">(opens in a new tab)</span>
                        </a>
                    </div>
                </div>
            `;
            
            return card;
        }
        
        function filterEvents(category) {
            const allEvents = document.querySelectorAll('.event-card');
            
            allEvents.forEach(event => {
                const eventCategories = event.getAttribute('data-category').split(' ');
                const priceElement = event.querySelector('.event-price-tag');
                const isFreePrice = priceElement && priceElement.textContent.trim().includes('Free');
                
                if (category === 'all') {
                    event.style.display = 'block';
                } else if (category === 'Free') {
                    // Show events with "Free" price or "Free" category
                    if (isFreePrice || eventCategories.includes('Free')) {
                        event.style.display = 'block';
                    } else {
                        event.style.display = 'none';
                    }
                } else {
                    // Filter by category
                    if (eventCategories.includes(category)) {
                        event.style.display = 'block';
                    } else {
                        event.style.display = 'none';
                    }
                }
            });
        }

        function sortEvents(criteria) {
            const container = document.getElementById('events-container');
            const eventsArray = Array.from(container.children);

            eventsArray.sort((a, b) => {
                const eventA = businesses.find(event => event.title === a.querySelector('.event-title').textContent);
                const eventB = businesses.find(event => event.title === b.querySelector('.event-title').textContent);

                switch (criteria) {
                    case 'time':
                        return new Date(eventA.date) - new Date(eventB.date);
                    case 'popularity':
                        // Assuming you have a popularity metric, otherwise this is a placeholder
                        return eventB.popularity - eventA.popularity;
                    case 'price':
                        const priceA = parseFloat(eventA.price.replace(/[^0-9.-]+/g, "")) || 0;
                        const priceB = parseFloat(eventB.price.replace(/[^0-9.-]+/g, "")) || 0;
                        return priceA - priceB;
                    default:
                        return 0;
                }
            });

            // Clear and re-append sorted events
            container.innerHTML = '';
            eventsArray.forEach(event => container.appendChild(event));
        }
    </script>
</body>
</html>
